<template x-if="product">
    <div class="c-product-details tw-px-4 lg:tw-pl-12 lg:tw-pr-10 lg:tw-sticky lg:tw-top-[64px] lg:tw-z-10 lg:tw-h-fit lg:tw-min-h-0">
        <div class="c-product-details__top">
            <div class="tw-pt-1.5 tw-text-neutrals-80 tw-leading-lg">
                <p><span x-text="`$${product.price}`"></span></p>
            </div>

            <h1 class="tw-mt-0.5 tw-text-heading-28 tw-text-primary tw-font-light tw-tracking-light tw-uppercase lg:tw-mt-1 tw-mb-3" x-text="product.title"></h1>
        
            <div class="c-product-details__id-container tw-hidden lg:tw-block">
                <div class="c-product-details__id tw-text-md tw-leading-md tw-text-neutrals-80 tw-uppercase">
                    <p>Style No.<span x-text="product.id"></span></p>
                </div>
                <hr class="tw-my-6 tw-h-px tw-w-full tw-bg-neutrals-40">
            </div>
        </div>

        <div class="c-product-details__middle tw-mt-6">
            <div class="c-product-details__colors tw-mb-8">
                <div class="c-product-details__color-heading">
                    <span class="tw-inline-block tw-py-[6px] tw-text-neutrals-80 tw-leading-lg">Color</span>
                    <span class="tw-inline-block tw-pl-1 tw-text-black" x-text="product.color.name"></span>
                </div>

                {% include '../components/c_colors-select.twig' %}
            </div>

            <div class="c-product-details__id-container lg:tw-hidden">
                <hr class="tw-my-6 tw-h-px tw-w-full tw-bg-neutrals-40">
                <div class="c-product-details__id tw-text-md tw-leading-md tw-text-neutrals-80 tw-uppercase">
                    <p>Style No.<span x-text="product.id"></span></p>
                </div>
                <hr class="tw-my-6 tw-h-px tw-w-full tw-bg-neutrals-40">
            </div>

            <div class="c-product-details__description">
                <div class="tw-text-lg tw-text-black" x-text="product.description"></div>
                {% include '../atoms/a_button.twig' with {
                    text: 'Read more below',
                    classes: ['tw-py-3 tw-text-lg tw-font-futura tw-text-primary tw-underline'],
                } %}
            </div>

            <div class="c-product-details__sizes" x-data="sizes()">
                <div class="c-product-details__sizes-heading tw-mt-2 tw-bg-neutrals-10 tw-py-2 tw-px-4">
                    {% include '../components/c_selected-sizes.twig' %}
                </div>

                {% include '../atoms/a_button.twig' with {
                    text: 'Choose size',
                    icons: ['i_arrow'],
                    classes: ['tw-w-full tw-flex tw-justify-between tw-items-center tw-border tw-border-solid tw-text-primary tw-uppercase tw-p-4 tw-mb-6 tw-text-md tw-font-medium tw-tracking-wide tw-text-primary'],
                    onclick: 'toggle()'
                } %}

                {% include '../scaffold/s_sizes.twig' %}
            </div>

            <div x-init="initAddToCartButtonVisibility()"
                    @scroll.window="checkAddToCartButtonVisibility"
                    @resize.window="checkAddToCartButtonVisibility">
                <div x-ref="addToCartBtn" x-show="selectedSize">
                    {% include '../atoms/a_button.twig' with {
                        xText: "`Add to cart - $${product.price}`",
                        classes: [
                            'tw-w-full',
                            'tw-bg-primary',
                            'tw-text-md',
                            'tw-font-normal',
                            'tw-tracking-wide',
                            'tw-leading-md',
                            'tw-uppercase',
                            'tw-border-0',
                            'tw-cursor-pointer',
                            'tw-text-white',
                            'tw-h-16',
                        ],
                        onclick: 'addToCart()'
                    } %}
                </div>
                {% include '../components/c_sticky-product-summary.twig' %}
            </div>
        </div>

        <div class="c-product-details__bottom">

        </div>
    </div>
</template>